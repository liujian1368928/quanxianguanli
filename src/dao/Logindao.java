package dao;import java.sql.*;import javax.servlet.http.HttpSession;import entity.jiaosequanxian;public class Logindao extends Basedao{		Connection  conn=null;	PreparedStatement st=null;	ResultSet  rs=null;	public String yanzheng(String username) {//ajax验证用户名是否存在        inquire查询  		String res="";		try{			conn=this.openconn();			String sql="SELECT * FROM yonghu  where yonghumingcheng='"+username+"'";			st=conn.prepareStatement(sql);			//让民工带上购物清单去取货，把货物放到结果集中（ResultSet）		    rs=st.executeQuery();//用来执行select语句			//对结果集进行循环读取			 if(rs.next()){				}			else{				res="验证失败";				}		}catch(Exception ex){			System.out.println("error");		}finally{			this.closeConn(conn, st, rs);	}		return res;}	public String[] Login(String username,String userpwd)//验证帐号密码是否正确	{		Connection conn=null;		PreparedStatement st=null;		ResultSet  rs=null;		String shuzu[]=new String[2];		String res =null;		String zhiwei=null;		try{			conn=this.openconn();			String sql="SELECT * FROM v_yonghujiaose where yonghumingcheng ='"+username+"'";			st=conn.prepareStatement(sql);			rs= st.executeQuery();			String dbpassword="";				while(rs.next())				{/*下一条结果集如果有*/						dbpassword=rs.getString("yonghumima");//获取密码					if(dbpassword.equals(userpwd)==true)/*下一条结果集如果有*/						{							res=rs.getString("jid");						zhiwei=rs.getString("jiaosemingcheng");						 shuzu[0]=res;						 shuzu[1]=zhiwei;					}					else{												res="0";					}				}		}				catch(Exception ex){			System.out.println(ex);		}finally{			this.closeConn(conn, st, rs);					}		return shuzu;	}}